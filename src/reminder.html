<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500&display=swap"
      rel="stylesheet"
    />
    <script src="https://unpkg.com/ionicons@4.5.10-0/dist/ionicons.js"></script>
    <script
      src="https://kit.fontawesome.com/098c2dda99.js"
      crossorigin="anonymous"
    ></script>
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0"
    />
    <title>Reminder | TailAdmin - Tailwind CSS Admin Dashboard Template</title>
  </head>

  <body
    x-data="{ page: 'reminder2', 'loaded': true, 'darkMode': true, 'stickyMenu': false, 'sidebarToggle': false, 'scrollTop': false }"
    x-init="
          darkMode = JSON.parse(localStorage.getItem('darkMode'));
          $watch('darkMode', value => localStorage.setItem('darkMode', JSON.stringify(value)))"
    :class="{'dark text-bodydark bg-boxdark-2': darkMode === true}"
  >
    <!-- ===== Preloader Start ===== -->
    <include src="./partials/preloader.html"></include>
    <!-- ===== Preloader End ===== -->

    <!-- ===== Page Wrapper Start ===== -->
    <div class="flex h-screen overflow-hidden">
      <!-- ===== Sidebar Start ===== -->
      <include src="./partials/sidebar.html"></include>
      <!-- ===== Sidebar End ===== -->

      <!-- ===== Content Area Start ===== -->
      <div
        class="relative flex flex-1 flex-col overflow-y-auto overflow-x-hidden"
      >
        <!-- ===== Header Start ===== -->
        <include src="./partials/header.html" />
        <!-- ===== Header End ===== -->

        <!-- ===== Main Content Start ===== -->
        <main
          class="main flex flex-grow flex-col transition-all duration-150 ease-in md:-ml-48 md:ml-0"
        >
          <div
            class="flex h-full items-center justify-center bg-[#F4F4F4] shadow-md"
          >
            <div class="h-[90%] w-[90%]">
              <div
                class="flex flex-col items-center justify-between md:flex-row"
              >
                <h1 class="mb-5 text-left text-2xl font-bold md:text-3xl">
                  Treatment Progress
                </h1>
                <p class="mb-5 text-right md:text-3xl">70%</p>
              </div>

              <div
                class="from-blue-500 via-blue-500 to-red-500 h-10 w-full bg-gradient-to-r"
              ></div>

              <div class="mb-5 grid grid-cols-1 gap-4 md:grid-cols-3">
                <div class="col-span-1 flex items-center justify-center p-4">
                  This week
                </div>
                <div class="col-span-1 flex items-center justify-center p-4">
                  This month
                </div>
                <div class="col-span-1 flex items-center justify-center p-4">
                  This year
                </div>
              </div>

              <div class="mb-5 grid grid-cols-7 gap-4">
                <div class="col-span-1 flex items-center justify-center p-4">
                  Mon
                </div>
                <div class="col-span-1 flex items-center justify-center p-4">
                  Tue
                </div>
                <div class="col-span-1 flex items-center justify-center p-4">
                  Wed
                </div>
                <div class="col-span-1 flex items-center justify-center p-4">
                  Thu
                </div>
                <div class="col-span-1 flex items-center justify-center p-4">
                  Fri
                </div>
                <div class="col-span-1 flex items-center justify-center p-4">
                  Sat
                </div>
                <div class="col-span-1 flex items-center justify-center p-4">
                  Sun
                </div>
              </div>

              <div class="mb-5 grid grid-cols-7 gap-4">
                <div class="col-span-1 flex items-center justify-center p-4">
                  6
                </div>
                <div class="col-span-1 flex items-center justify-center p-4">
                  7
                </div>
                <div class="col-span-1 flex items-center justify-center p-4">
                  <div
                    class="flex h-10 w-10 items-center justify-center rounded-full bg-[#0085ff] text-white"
                  >
                    8
                  </div>
                </div>
                <div class="col-span-1 flex items-center justify-center p-4">
                  9
                </div>
                <div class="col-span-1 flex items-center justify-center p-4">
                  10
                </div>
                <div class="col-span-1 flex items-center justify-center p-4">
                  11
                </div>
                <div class="col-span-1 flex items-center justify-center p-4">
                  12
                </div>
              </div>

              <div>
                <h1
                  class="mb-5 flex items-center justify-center text-left text-2xl font-bold md:text-3xl"
                >
                  Wednesday, August 8
                </h1>
                <div id="container"></div>
              </div>
            </div>
          </div>
        </main>
        <!-- ===== Main Content End ===== -->
      </div>

      <!-- ===== Content Area End ===== -->
    </div>

    <!-- ===== Page Wrapper End ===== -->
    <script>
      // Retrieve the data from localStorage
      var storedData = localStorage.getItem("storedData");

      if (storedData) {
        // Parse the JSON data
        var parsedData = JSON.parse(storedData);
        var container = document.getElementById("container");

        if (parsedData.length > 0) {
          // Loop through the array and create a set of div elements for each name and dosage
          for (var i = 0; i < parsedData.length; i++) {
            var divSet = document.createElement("div");
            divSet.className =
              "flex flex-col items-center justify-between md:flex-row";

            var dataContainer = document.createElement("div");
            dataContainer.className = "mb-5 flex items-center gap-4 text-left";

            var pillIcon = document.createElement("span");
            pillIcon.className = "material-symbols-outlined text-4xl font-bold";
            pillIcon.textContent = "pill";

            var infoDiv = document.createElement("div");
            var nameElement = document.createElement("span");
            nameElement.className = "med-name top-0 text-2xl";
            nameElement.textContent = parsedData[i].name;

            var dosageElement = document.createElement("p");
            dosageElement.textContent = parsedData[i].dosage;

            infoDiv.appendChild(nameElement);
            infoDiv.appendChild(dosageElement);

            dataContainer.appendChild(pillIcon);
            dataContainer.appendChild(infoDiv);

            divSet.appendChild(dataContainer);

            // Create a dynamic checkbox for each set
            var checkBoxIcon = document.createElement("input");
            checkBoxIcon.type = "checkbox";
            checkBoxIcon.className =
              "material-symbols-outlined text-4xl font-bold";
            checkBoxIcon.addEventListener("change", function (event) {
              if (event.target.checked) {
                // Handle the checkbox being checked (store the data)
                var dateChecked = new Date().toLocaleString();
                var dataToStore = {
                  date: dateChecked,
                  name: nameElement.textContent,
                  dosage: dosageElement.textContent,
                };
                var storedItems =
                  JSON.parse(localStorage.getItem("storedItems")) || [];
                storedItems.push(dataToStore);
                localStorage.setItem(
                  "storedItems",
                  JSON.stringify(storedItems)
                );
              }
            });
            divSet.appendChild(checkBoxIcon);

            container.appendChild(divSet);
          }
        } else {
          container.textContent = "No data found";
        }
      } else {
        container.textContent = "No data found in localStorage.";
      }
    </script>
  </body>
</html>